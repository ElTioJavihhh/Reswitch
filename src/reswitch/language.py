# En: src/reswitch/language.py

translations = {
    "en": {
        "nav_home": "Home", "nav_profiles": "Profiles", "nav_settings": "Settings", "nav_support": "❤️ Support",
        "home_title": "Game Profile Manager", "home_subtitle": "Manage your profiles and settings for an optimal gaming experience.",
        "quick_switch_title": "Quick Switch", "desktop_res_label": "Desktop Resolution", "game_res_label": "Game Resolution",
        "switch_button": "Switch Resolution", "profiles_title": "Game Profiles",
        "add_profile_button": "Add New Profile", "fullscreen_warning": "For best results, use 'Borderless' or 'Fullscreen Windowed' mode in your games to avoid black screens.",
        "settings_title": "General Settings", "startup_options_label": "Startup Options", "start_with_windows": "Start with Windows",
        "hotkeys_label": "Keyboard Shortcuts", "desktop_hotkey": "Desktop Mode", "game_hotkey": "Game Mode",
        "language_label": "Language", "save_settings_button": "Save Changes", "status_ready": "Ready",
        "status_res_changed": "Resolution changed to {res} on {monitor}", "status_admin_needed": "Error: Administrator permissions needed",
        "status_res_unsupported": "Error: Resolution {res} not supported", "status_settings_saved": "Settings saved",
        "status_hotkey_error": "Error setting hotkeys: {e}", "status_startup_error": "Error modifying startup: {e}",
        "profile_editor_title_new": "New Game Profile", "profile_editor_title_edit": "Edit Game Profile", # CORREGIDO
        "executable_path_label": "Executable Path (.exe):", "game_resolution_label": "Resolution for this game:",
        "save_profile_button": "Save Profile", "select_executable_title": "Select Executable",
        "delete_button": "Delete", "edit_button": "Edit", "no_profiles_text": "No profiles yet!", "no_profiles_subtext": "Add a profile or scan for games to get started.",
        "list_header_game": "GAME", "list_header_resolution": "RESOLUTION",
        "appearance_label": "Appearance", "appearance_mode_label": "Theme", "monitor_label": "Target Monitor",
        "theme_light": "Light", "theme_dark": "Dark", "theme_system": "System",
        "monitor_profile_label": "Monitor for this game:", "hotkey_capture_title": "Set Hotkey", "hotkey_capture_text": "Press the desired key combination...",
        "tray_show": "Show Reswitch!", "tray_exit": "Exit", "tray_desktop_mode": "Switch to Desktop Mode", "tray_game_mode": "Switch to Game Mode",
        "scan_games_button": "Scan for Games", "game_scanner_title": "Game Scanner", "scanner_status_scanning": "Scanning for games, please wait...",
        "scanner_status_found": "Found {count} new games. Select which ones to add:", "scanner_add_selected_button": "Add Selected Profiles",
        "scanner_no_new_games": "No new games found or all are already in your profiles.",
        "tray_notice_title": "Reswitch! is running", "tray_notice_text": "Reswitch! will continue to run in the system tray. You can open it again from there.", "tray_notice_button": "Got it"
    },
    "es": {
        "nav_home": "Inicio", "nav_profiles": "Perfiles", "nav_settings": "Ajustes", "nav_support": "❤️ Apoyar",
        "home_title": "Gestor de Perfiles de Juego", "home_subtitle": "Gestiona tus perfiles y configuraciones para una experiencia de juego óptima.",
        "quick_switch_title": "Cambio Rápido", "desktop_res_label": "Resolución Escritorio", "game_res_label": "Resolución Juego",
        "switch_button": "Cambiar Resolución", "profiles_title": "Perfiles de Juego",
        "add_profile_button": "Añadir Nuevo Perfil", "fullscreen_warning": "Para mejores resultados, usa el modo 'Ventana sin Bordes' o 'Pantalla Completa en Ventana' en tus juegos para evitar pantallazos negros.",
        "settings_title": "Configuración General", "startup_options_label": "Opciones de Inicio", "start_with_windows": "Iniciar con Windows",
        "hotkeys_label": "Atajos de Teclado", "desktop_hotkey": "Modo Escritorio", "game_hotkey": "Modo Juego",
        "language_label": "Idioma", "save_settings_button": "Guardar Cambios", "status_ready": "Listo",
        "status_res_changed": "Resolución cambiada a {res} en {monitor}", "status_admin_needed": "Error: Se necesitan permisos de administrador",
        "status_res_unsupported": "Error: Resolución {res} no soportada", "status_settings_saved": "Ajustes guardados",
        "status_hotkey_error": "Error al configurar atajos: {e}", "status_startup_error": "Error al modificar inicio: {e}",
        "profile_editor_title_new": "Nuevo Perfil de Juego", "profile_editor_title_edit": "Editar Perfil de Juego", # CORREGIDO
        "executable_path_label": "Ruta del ejecutable (.exe):", "game_resolution_label": "Resolución para este juego:",
        "save_profile_button": "Guardar Perfil", "select_executable_title": "Selecciona el ejecutable",
        "delete_button": "Eliminar", "edit_button": "Editar", "no_profiles_text": "¡Aún no hay perfiles!", "no_profiles_subtext": "Añade un perfil o busca juegos para empezar.",
        "list_header_game": "JUEGO", "list_header_resolution": "RESOLUCIÓN",
        "appearance_label": "Apariencia", "appearance_mode_label": "Tema", "monitor_label": "Monitor de Destino",
        "theme_light": "Claro", "theme_dark": "Oscuro", "theme_system": "Sistema",
        "monitor_profile_label": "Monitor para este juego:", "hotkey_capture_title": "Definir Atajo", "hotkey_capture_text": "Presiona la combinación de teclas deseada...",
        "tray_show": "Mostrar Reswitch!", "tray_exit": "Salir", "tray_desktop_mode": "Cambiar a Modo Escritorio", "tray_game_mode": "Cambiar a Modo Juego",
        "scan_games_button": "Buscar Juegos", "game_scanner_title": "Buscador de Juegos", "scanner_status_scanning": "Buscando juegos, por favor espera...",
        "scanner_status_found": "Se encontraron {count} juegos nuevos. Selecciona cuáles añadir:", "scanner_add_selected_button": "Añadir Perfiles Seleccionados",
        "scanner_no_new_games": "No se encontraron juegos nuevos o ya están todos en tus perfiles.",
        "tray_notice_title": "Reswitch! se está ejecutando", "tray_notice_text": "Reswitch! continuará ejecutándose en la bandeja del sistema. Puedes abrirlo de nuevo desde allí.", "tray_notice_button": "Entendido"
    },
    "zh": {
        "nav_home": "主页", "nav_profiles": "配置文件", "nav_settings": "设置", "nav_support": "❤️ 支持",
        "home_title": "游戏配置文件管理器", "home_subtitle": "管理您的配置文件和设置，以获得最佳游戏体验。",
        "quick_switch_title": "快速切换", "desktop_res_label": "桌面分辨率", "game_res_label": "游戏分辨率",
        "switch_button": "切换分辨率", "profiles_title": "游戏配置文件",
        "add_profile_button": "添加新配置文件", "fullscreen_warning": "为获得最佳效果，请在游戏中使用“无边框”或“全屏窗口”模式，以避免出现黑屏。",
        "settings_title": "常规设置", "startup_options_label": "启动选项", "start_with_windows": "随 Windows 启动",
        "hotkeys_label": "键盘快捷键", "desktop_hotkey": "桌面模式", "game_hotkey": "游戏模式",
        "language_label": "语言", "save_settings_button": "保存更改", "status_ready": "准备就绪",
        "status_res_changed": "分辨率已在 {monitor} 上更改为 {res}", "status_admin_needed": "错误：需要管理员权限",
        "status_res_unsupported": "错误：不支持分辨率 {res}", "status_settings_saved": "设置已保存",
        "status_hotkey_error": "设置热键时出错：{e}", "status_startup_error": "修改启动项时出错：{e}",
        "profile_editor_title_new": "新的游戏配置文件", "profile_editor_title_edit": "编辑游戏配置文件",
        "executable_path_label": "可执行文件路径 (.exe):", "game_resolution_label": "此游戏的分辨率:",
        "save_profile_button": "保存配置文件", "select_executable_title": "选择可执行文件",
        "delete_button": "删除", "edit_button": "编辑", "no_profiles_text": "尚无配置文件！", "no_profiles_subtext": "添加配置文件或扫描游戏以开始。",
        "list_header_game": "游戏", "list_header_resolution": "分辨率",
        "appearance_label": "外观", "appearance_mode_label": "主题", "monitor_label": "目标显示器",
        "theme_light": "浅色", "theme_dark": "深色", "theme_system": "系统",
        "monitor_profile_label": "此游戏的显示器:", "hotkey_capture_title": "设置热键", "hotkey_capture_text": "按所需的组合键...",
        "tray_show": "显示 Reswitch!", "tray_exit": "退出", "tray_desktop_mode": "切换到桌面模式", "tray_game_mode": "切换到游戏模式",
        "scan_games_button": "扫描游戏", "game_scanner_title": "游戏扫描器", "scanner_status_scanning": "正在扫描游戏，请稍候...",
        "scanner_status_found": "找到 {count} 个新游戏。请选择要添加的游戏:", "scanner_add_selected_button": "添加选定的配置文件",
        "scanner_no_new_games": "未找到新游戏或所有游戏均已在您的配置文件中。",
        "tray_notice_title": "Reswitch! 正在运行", "tray_notice_text": "Reswitch! 将继续在系统托盘中运行。您可以从那里再次打开它。", "tray_notice_button": "知道了"
    }
}

class LanguageManager:
    def __init__(self, language: str = "en"):
        self.language = language
    def get(self, key: str, **kwargs) -> str:
        return translations.get(self.language, translations["en"]).get(key, key).format(**kwargs)
    def set_language(self, language: str):
        self.language = language